{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\shh_website_codebase\\\\frontend\\\\src\\\\components\\\\PaymentPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/components/PaymentPage.js\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements, CardNumberElement, CardExpiryElement, CardCvcElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport Header from './Header';\nimport Footer from './Footer';\nimport styles from '../css/PaymentPage.module.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY);\nfunction CheckoutForm(_ref) {\n  _s();\n  let {\n    clientSecret,\n    unitAmount,\n    currency,\n    onSuccess\n  } = _ref;\n  const stripe = useStripe();\n  const elements = useElements();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const handleChange = e => {\n    var _e$error;\n    return setErrorMessage(((_e$error = e.error) === null || _e$error === void 0 ? void 0 : _e$error.message) || '');\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!stripe || !elements) return;\n    setProcessing(true);\n    setErrorMessage('');\n    const card = elements.getElement(CardNumberElement);\n    const {\n      error,\n      paymentIntent\n    } = await stripe.confirmCardPayment(clientSecret, {\n      payment_method: {\n        card\n      }\n    });\n    if (error) {\n      setErrorMessage(error.message);\n      setProcessing(false);\n    } else if (paymentIntent.status === 'succeeded') {\n      onSuccess();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: styles.form,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.fieldGroup,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: styles.label,\n        children: \"Card Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cardInput,\n        children: /*#__PURE__*/_jsxDEV(CardNumberElement, {\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.fieldGroupRow,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.fieldGroupSmall,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.label,\n          children: \"Expiry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.cardInput,\n          children: /*#__PURE__*/_jsxDEV(CardExpiryElement, {\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.fieldGroupSmall,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.label,\n          children: \"CVC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.cardInput,\n          children: /*#__PURE__*/_jsxDEV(CardCvcElement, {\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.cardError,\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: !stripe || processing,\n      className: styles.payButton,\n      children: processing ? 'Processing…' : \"Pay \\xA3\".concat((unitAmount / 100).toFixed(2), \" \").concat(currency.toUpperCase())\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(CheckoutForm, \"+RZYXCiO4USsbI+asMYFuYe76W0=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = CheckoutForm;\nexport default function PaymentPage() {\n  _s2();\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const reference = searchParams.get('reference');\n\n  // get booking and form data from sessionStorage\n  const booking = useMemo(() => {\n    try {\n      return JSON.parse(sessionStorage.getItem('booking'));\n    } catch (_unused) {\n      return null;\n    }\n  }, []);\n  const [clientSecret, setClientSecret] = useState('');\n  const [productName, setProductName] = useState('');\n  const [unitAmount, setUnitAmount] = useState(0);\n  const [currency, setCurrency] = useState('');\n  const [paid, setPaid] = useState(false);\n  useEffect(() => {\n    if (!reference || !booking) return;\n\n    // send booking & form data to backend so metadata is correct\n    fetch('/api/create-payment-intent', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        reference,\n        form: {\n          firstName: booking.firstName,\n          surname: booking.surname,\n          phone: booking.phone,\n          email: booking.email,\n          address: booking.address,\n          postcode: booking.postcode\n        },\n        selectedDate: booking.visitDate,\n        selectedTime: booking.visitWindow\n      })\n    }).then(r => r.json()).then(data => {\n      if (data.error) throw new Error(data.error);\n      setClientSecret(data.clientSecret);\n      setProductName(data.productName);\n      setUnitAmount(data.unitAmount);\n      setCurrency(data.currency);\n    }).catch(err => console.error(err));\n  }, [reference, booking]);\n\n  // called when PaymentIntent succeeds\n  const handleSuccess = () => setPaid(true);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"Complete Your Payment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.wrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(-1),\n        className: styles.backButton,\n        children: \"\\u2190 Back to Booking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), !booking && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.errorText,\n        children: \"Missing booking data. Please start again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), booking && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.summary,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Booking Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Reference:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 16\n          }, this), \" \", booking.reference]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 16\n          }, this), \" \", booking.firstName, \" \", booking.surname]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 16\n          }, this), \" \", booking.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Phone:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 16\n          }, this), \" \", booking.phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Address:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), \" \", booking.address, \", \", booking.postcode]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date & Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), \" \", booking.visitDate, \",\", ' ', booking.visitWindow]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this), paid && booking && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.thankYou,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Thank you!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"A confirmation is being sent to \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: booking.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 47\n          }, this), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Your reference is \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: booking.reference\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 33\n          }, this), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), !paid && clientSecret && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: styles.productTitle,\n          children: productName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.productPrice,\n          children: [\"\\xA3\", (unitAmount / 100).toFixed(2), \" \", currency.toUpperCase()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: stripePromise,\n          children: /*#__PURE__*/_jsxDEV(CheckoutForm, {\n            clientSecret: clientSecret,\n            unitAmount: unitAmount,\n            currency: currency,\n            onSuccess: handleSuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), !paid && !clientSecret && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading payment details\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s2(PaymentPage, \"BSUuWOFo09cgD5wUUPCUIfhn4h0=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c2 = PaymentPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"CheckoutForm\");\n$RefreshReg$(_c2, \"PaymentPage\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useSearchParams","useNavigate","loadStripe","Elements","CardNumberElement","CardExpiryElement","CardCvcElement","useStripe","useElements","Header","Footer","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","stripePromise","process","env","REACT_APP_STRIPE_PUBLISHABLE_KEY","CheckoutForm","_ref","_s","clientSecret","unitAmount","currency","onSuccess","stripe","elements","errorMessage","setErrorMessage","processing","setProcessing","handleChange","e","_e$error","error","message","handleSubmit","preventDefault","card","getElement","paymentIntent","confirmCardPayment","payment_method","status","onSubmit","className","form","children","fieldGroup","label","fileName","_jsxFileName","lineNumber","columnNumber","cardInput","onChange","fieldGroupRow","fieldGroupSmall","cardError","type","disabled","payButton","concat","toFixed","toUpperCase","_c","PaymentPage","_s2","searchParams","navigate","reference","get","booking","JSON","parse","sessionStorage","getItem","_unused","setClientSecret","productName","setProductName","setUnitAmount","setCurrency","paid","setPaid","fetch","method","headers","body","stringify","firstName","surname","phone","email","address","postcode","selectedDate","visitDate","selectedTime","visitWindow","then","r","json","data","Error","catch","err","console","handleSuccess","title","wrapper","onClick","backButton","errorText","summary","thankYou","productTitle","productPrice","_c2","$RefreshReg$"],"sources":["C:/Users/User/Downloads/shh_website_codebase/frontend/src/components/PaymentPage.js"],"sourcesContent":["// src/components/PaymentPage.js\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport {\r\n  Elements,\r\n  CardNumberElement,\r\n  CardExpiryElement,\r\n  CardCvcElement,\r\n  useStripe,\r\n  useElements\r\n} from '@stripe/react-stripe-js';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport styles from '../css/PaymentPage.module.css';\r\n\r\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY);\r\n\r\nfunction CheckoutForm({ clientSecret, unitAmount, currency, onSuccess }) {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [processing, setProcessing]     = useState(false);\r\n\r\n  const handleChange = e => setErrorMessage(e.error?.message || '');\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    if (!stripe || !elements) return;\r\n    setProcessing(true);\r\n    setErrorMessage('');\r\n\r\n    const card = elements.getElement(CardNumberElement);\r\n    const { error, paymentIntent } = await stripe.confirmCardPayment(\r\n      clientSecret,\r\n      { payment_method: { card } }\r\n    );\r\n\r\n    if (error) {\r\n      setErrorMessage(error.message);\r\n      setProcessing(false);\r\n    } else if (paymentIntent.status === 'succeeded') {\r\n      onSuccess();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles.form}>\r\n      <div className={styles.fieldGroup}>\r\n        <label className={styles.label}>Card Number</label>\r\n        <div className={styles.cardInput}>\r\n          <CardNumberElement onChange={handleChange}/>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.fieldGroupRow}>\r\n        <div className={styles.fieldGroupSmall}>\r\n          <label className={styles.label}>Expiry</label>\r\n          <div className={styles.cardInput}>\r\n            <CardExpiryElement onChange={handleChange}/>\r\n          </div>\r\n        </div>\r\n        <div className={styles.fieldGroupSmall}>\r\n          <label className={styles.label}>CVC</label>\r\n          <div className={styles.cardInput}>\r\n            <CardCvcElement onChange={handleChange}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {errorMessage && <p className={styles.cardError}>{errorMessage}</p>}\r\n\r\n      <button\r\n        type=\"submit\"\r\n        disabled={!stripe || processing}\r\n        className={styles.payButton}\r\n      >\r\n        {processing\r\n          ? 'Processing…'\r\n          : `Pay £${(unitAmount/100).toFixed(2)} ${currency.toUpperCase()}`}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default function PaymentPage() {\r\n  const [searchParams] = useSearchParams();\r\n  const navigate       = useNavigate();\r\n  const reference      = searchParams.get('reference');\r\n\r\n  // get booking and form data from sessionStorage\r\n  const booking = useMemo(() => {\r\n    try {\r\n      return JSON.parse(sessionStorage.getItem('booking'));\r\n    } catch {\r\n      return null;\r\n    }\r\n  }, []);\r\n\r\n  const [clientSecret, setClientSecret] = useState('');\r\n  const [productName, setProductName]   = useState('');\r\n  const [unitAmount, setUnitAmount]     = useState(0);\r\n  const [currency, setCurrency]         = useState('');\r\n  const [paid, setPaid]                 = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!reference || !booking) return;\r\n\r\n    // send booking & form data to backend so metadata is correct\r\n    fetch('/api/create-payment-intent', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        reference,\r\n        form: {\r\n          firstName: booking.firstName,\r\n          surname:   booking.surname,\r\n          phone:     booking.phone,\r\n          email:     booking.email,\r\n          address:   booking.address,\r\n          postcode:  booking.postcode\r\n        },\r\n        selectedDate: booking.visitDate,\r\n        selectedTime: booking.visitWindow\r\n      })\r\n    })\r\n      .then(r => r.json())\r\n      .then(data => {\r\n        if (data.error) throw new Error(data.error);\r\n        setClientSecret(data.clientSecret);\r\n        setProductName(data.productName);\r\n        setUnitAmount(data.unitAmount);\r\n        setCurrency(data.currency);\r\n      })\r\n      .catch(err => console.error(err));\r\n  }, [reference, booking]);\r\n\r\n  // called when PaymentIntent succeeds\r\n  const handleSuccess = () => setPaid(true);\r\n\r\n  return (\r\n    <>\r\n      <Header title=\"Complete Your Payment\" />\r\n\r\n      <main className={styles.wrapper}>\r\n        <button onClick={() => navigate(-1)} className={styles.backButton}>\r\n          ← Back to Booking\r\n        </button>\r\n\r\n        {!booking && (\r\n          <p className={styles.errorText}>\r\n            Missing booking data. Please start again.\r\n          </p>\r\n        )}\r\n\r\n        {/* Booking summary */}\r\n        {booking && (\r\n          <div className={styles.summary}>\r\n            <h3>Booking Summary</h3>\r\n            <p><strong>Reference:</strong> {booking.reference}</p>\r\n            <p><strong>Name:</strong> {booking.firstName} {booking.surname}</p>\r\n            <p><strong>Email:</strong> {booking.email}</p>\r\n            <p><strong>Phone:</strong> {booking.phone}</p>\r\n            <p>\r\n              <strong>Address:</strong> {booking.address}, {booking.postcode}\r\n            </p>\r\n            <p>\r\n              <strong>Date &amp; Time:</strong> {booking.visitDate},{' '}\r\n              {booking.visitWindow}\r\n            </p>\r\n            <hr />\r\n          </div>\r\n        )}\r\n\r\n        {/* After payment */}\r\n        {paid && booking && (\r\n          <div className={styles.thankYou}>\r\n            <h2>Thank you!</h2>\r\n            <p>\r\n              A confirmation is being sent to <strong>{booking.email}</strong>.\r\n            </p>\r\n            <p>\r\n              Your reference is <strong>{booking.reference}</strong>.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Payment form */}\r\n        {!paid && clientSecret && (\r\n          <>\r\n            <h2 className={styles.productTitle}>{productName}</h2>\r\n            <p className={styles.productPrice}>\r\n              £{(unitAmount/100).toFixed(2)} {currency.toUpperCase()}\r\n            </p>\r\n            <Elements stripe={stripePromise}>\r\n              <CheckoutForm\r\n                clientSecret={clientSecret}\r\n                unitAmount={unitAmount}\r\n                currency={currency}\r\n                onSuccess={handleSuccess}\r\n              />\r\n            </Elements>\r\n          </>\r\n        )}\r\n\r\n        {!paid && !clientSecret && (\r\n          <p>Loading payment details…</p>\r\n        )}\r\n      </main>\r\n\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}